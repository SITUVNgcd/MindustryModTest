Events.on(ClientLoadEvent, () => {
  let cmd = findCommandGroup();
  let par = cmd.parent;
  let cmdW = cmd.width;
  par.clear();
  par.add(cmd).width(cmdW);
  let up = par.button(Icon.up, ()=>{
    up.toggle();
  });
});

function findCommandGroup(){
  let hg = Vars.ui.hudGroup;
  if(hg == null){
    return null;
  }
  return hg["find(arc.func.Boolf)"](e=>{
    let cc, cm;
    let [bd, cf] = [Core.bundle, "get(java.lang.String,java.lang.String)"];
    let [cct, cmt] = [bd[cf]("command", "Command"), bd[cf]("cancel", "Cancel")];
    if(e instanceof WidgetGroup){
      e.forEach(f=>{
        if(f.getText){
          if(f.getText() == cct){
            cc = f;
          }
          if(f.getText() == cmt){
            cm = f;
          }
        }
      });
    }
    return cc != null && cm != null;
  });
}

function findCommandButton(){
  let hg = Vars.ui.hudGroup;
  return hg["find(arc.func.Boolf)"](e=>{
    let [bd, cf] = [Core.bundle, "get(java.lang.String,java.lang.String)"];
    let cct = bd[cf]("command", "Command");
    return e instanceof TextButton && e.getText() == cct;
  });
}